(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

/* global tb_remove, wpseo_send_mark_as_fixed, yoastPremiumGSC */

/**
 * Adds a redirect from the Google Search Console overview.
 *
 * @returns {boolean} Always returns false to cancel the default event handler.
 */
function wpseoPostRedirectToGSC() {
	var targetForm = jQuery("#TB_ajaxContent");
	var oldURL = jQuery(targetForm).find("input[name=current_url]").val();
	var newURL = jQuery(targetForm).find("input[name=new_url]").val();
	var isChecked = jQuery(targetForm).find("input[name=mark_as_fixed]").prop("checked");
	var type = parseInt(jQuery(targetForm).find("select[name=redirect-type]").val(), 10);

	jQuery.ajax({
		type: "POST",
		url: yoastPremiumGSC.data.restApi.root + "yoast/v1/redirects",
		beforeSend: function beforeSend(xhr) {
			xhr.setRequestHeader("X-WP-Nonce", yoastPremiumGSC.data.restAPI.nonce);
		},
		dataType: "json",
		data: {
			origin: oldURL,
			target: newURL,
			type: type
		},
		success: function success(response) {
			if (response === "true" && isChecked === true) {
				wpseo_send_mark_as_fixed(jQuery(".wpseo-gsc-ajax-security").val(), jQuery("#field_platform").val(), jQuery("#field_category").val(), oldURL);
			}

			// Remove the thickbox.
			tb_remove();
		}
	});

	return false;
}

/**
 * Adds onchange event to the dropdowns.
 *
 * @returns {void}
 */
jQuery(function () {
	var redirectTypes = jQuery("select[name=redirect-type]");

	var ALLOW_EMPTY_TARGET = [410, 451];

	redirectTypes.on("change", function (evt) {
		var type = parseInt(this.value, 10);
		var fieldToToggle = jQuery(evt.target).closest(".wpseo_content_wrapper").find(".form-field-target")[0];

		// Hide the target field in case of a 410 redirect.
		if (jQuery.inArray(type, ALLOW_EMPTY_TARGET) > -1) {
			jQuery(fieldToToggle).hide();
		} else {
			jQuery(fieldToToggle).show();
		}
	});
});

window.wpseoPostRedirectToGSC = wpseoPostRedirectToGSC;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvc3JjL2dvb2dsZS1zZWFyY2gtY29uc29sZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7O0FDQUE7O0FBRUE7Ozs7O0FBS0EsU0FBUyxzQkFBVCxHQUFrQztBQUNqQyxLQUFJLGFBQWEsT0FBUSxpQkFBUixDQUFqQjtBQUNBLEtBQUksU0FBYSxPQUFRLFVBQVIsRUFBcUIsSUFBckIsQ0FBMkIseUJBQTNCLEVBQXVELEdBQXZELEVBQWpCO0FBQ0EsS0FBSSxTQUFhLE9BQVEsVUFBUixFQUFxQixJQUFyQixDQUEyQixxQkFBM0IsRUFBbUQsR0FBbkQsRUFBakI7QUFDQSxLQUFJLFlBQWEsT0FBUSxVQUFSLEVBQXFCLElBQXJCLENBQTJCLDJCQUEzQixFQUF5RCxJQUF6RCxDQUErRCxTQUEvRCxDQUFqQjtBQUNBLEtBQUksT0FBYSxTQUFVLE9BQVEsVUFBUixFQUFxQixJQUFyQixDQUEyQiw0QkFBM0IsRUFBMEQsR0FBMUQsRUFBVixFQUEyRSxFQUEzRSxDQUFqQjs7QUFFQSxRQUFPLElBQVAsQ0FBYTtBQUNaLFFBQU0sTUFETTtBQUVaLE9BQUssZ0JBQWdCLElBQWhCLENBQXFCLE9BQXJCLENBQTZCLElBQTdCLEdBQW9DLG9CQUY3QjtBQUdaLGNBQVksb0JBQUUsR0FBRixFQUFXO0FBQ3RCLE9BQUksZ0JBQUosQ0FBc0IsWUFBdEIsRUFBb0MsZ0JBQWdCLElBQWhCLENBQXFCLE9BQXJCLENBQTZCLEtBQWpFO0FBQ0EsR0FMVztBQU1aLFlBQVUsTUFORTtBQU9aLFFBQU07QUFDTCxXQUFRLE1BREg7QUFFTCxXQUFRLE1BRkg7QUFHTCxTQUFNO0FBSEQsR0FQTTtBQVlaLFdBQVMsaUJBQVUsUUFBVixFQUFxQjtBQUM3QixPQUFJLGFBQWEsTUFBYixJQUF1QixjQUFjLElBQXpDLEVBQWdEO0FBQy9DLDZCQUNDLE9BQVEsMEJBQVIsRUFBcUMsR0FBckMsRUFERCxFQUVDLE9BQVEsaUJBQVIsRUFBNEIsR0FBNUIsRUFGRCxFQUdDLE9BQVEsaUJBQVIsRUFBNEIsR0FBNUIsRUFIRCxFQUlDLE1BSkQ7QUFNQTs7QUFFRDtBQUNBO0FBQ0E7QUF4QlcsRUFBYjs7QUEyQkEsUUFBTyxLQUFQO0FBQ0E7O0FBRUQ7Ozs7O0FBS0EsT0FBUSxZQUFXO0FBQ2xCLEtBQUksZ0JBQWdCLE9BQVEsNEJBQVIsQ0FBcEI7O0FBRUEsS0FBSSxxQkFBcUIsQ0FDeEIsR0FEd0IsRUFDbkIsR0FEbUIsQ0FBekI7O0FBSUEsZUFBYyxFQUFkLENBQWtCLFFBQWxCLEVBQTRCLFVBQVcsR0FBWCxFQUFpQjtBQUM1QyxNQUFJLE9BQWtCLFNBQVUsS0FBSyxLQUFmLEVBQXNCLEVBQXRCLENBQXRCO0FBQ0EsTUFBSSxnQkFBZ0IsT0FBUSxJQUFJLE1BQVosRUFBcUIsT0FBckIsQ0FBOEIsd0JBQTlCLEVBQXlELElBQXpELENBQStELG9CQUEvRCxFQUFzRixDQUF0RixDQUFwQjs7QUFFQTtBQUNBLE1BQUksT0FBTyxPQUFQLENBQWdCLElBQWhCLEVBQXNCLGtCQUF0QixJQUE2QyxDQUFDLENBQWxELEVBQXNEO0FBQ3JELFVBQVEsYUFBUixFQUF3QixJQUF4QjtBQUNBLEdBRkQsTUFFTztBQUNOLFVBQVEsYUFBUixFQUF3QixJQUF4QjtBQUNBO0FBQ0QsRUFWRDtBQVdBLENBbEJEOztBQW9CQSxPQUFPLHNCQUFQLEdBQWdDLHNCQUFoQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBnbG9iYWwgdGJfcmVtb3ZlLCB3cHNlb19zZW5kX21hcmtfYXNfZml4ZWQsIHlvYXN0UHJlbWl1bUdTQyAqL1xuXG4vKipcbiAqIEFkZHMgYSByZWRpcmVjdCBmcm9tIHRoZSBHb29nbGUgU2VhcmNoIENvbnNvbGUgb3ZlcnZpZXcuXG4gKlxuICogQHJldHVybnMge2Jvb2xlYW59IEFsd2F5cyByZXR1cm5zIGZhbHNlIHRvIGNhbmNlbCB0aGUgZGVmYXVsdCBldmVudCBoYW5kbGVyLlxuICovXG5mdW5jdGlvbiB3cHNlb1Bvc3RSZWRpcmVjdFRvR1NDKCkge1xuXHRsZXQgdGFyZ2V0Rm9ybSA9IGpRdWVyeSggXCIjVEJfYWpheENvbnRlbnRcIiApO1xuXHRsZXQgb2xkVVJMICAgICA9IGpRdWVyeSggdGFyZ2V0Rm9ybSApLmZpbmQoIFwiaW5wdXRbbmFtZT1jdXJyZW50X3VybF1cIiApLnZhbCgpO1xuXHRsZXQgbmV3VVJMICAgICA9IGpRdWVyeSggdGFyZ2V0Rm9ybSApLmZpbmQoIFwiaW5wdXRbbmFtZT1uZXdfdXJsXVwiICkudmFsKCk7XG5cdGxldCBpc0NoZWNrZWQgID0galF1ZXJ5KCB0YXJnZXRGb3JtICkuZmluZCggXCJpbnB1dFtuYW1lPW1hcmtfYXNfZml4ZWRdXCIgKS5wcm9wKCBcImNoZWNrZWRcIiApO1xuXHRsZXQgdHlwZSAgICAgICA9IHBhcnNlSW50KCBqUXVlcnkoIHRhcmdldEZvcm0gKS5maW5kKCBcInNlbGVjdFtuYW1lPXJlZGlyZWN0LXR5cGVdXCIgKS52YWwoKSwgMTAgKTtcblxuXHRqUXVlcnkuYWpheCgge1xuXHRcdHR5cGU6IFwiUE9TVFwiLFxuXHRcdHVybDogeW9hc3RQcmVtaXVtR1NDLmRhdGEucmVzdEFwaS5yb290ICsgXCJ5b2FzdC92MS9yZWRpcmVjdHNcIixcblx0XHRiZWZvcmVTZW5kOiAoIHhociApID0+IHtcblx0XHRcdHhoci5zZXRSZXF1ZXN0SGVhZGVyKCBcIlgtV1AtTm9uY2VcIiwgeW9hc3RQcmVtaXVtR1NDLmRhdGEucmVzdEFQSS5ub25jZSApO1xuXHRcdH0sXG5cdFx0ZGF0YVR5cGU6IFwianNvblwiLFxuXHRcdGRhdGE6IHtcblx0XHRcdG9yaWdpbjogb2xkVVJMLFxuXHRcdFx0dGFyZ2V0OiBuZXdVUkwsXG5cdFx0XHR0eXBlOiB0eXBlLFxuXHRcdH0sXG5cdFx0c3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0aWYoIHJlc3BvbnNlID09PSBcInRydWVcIiAmJiBpc0NoZWNrZWQgPT09IHRydWUgKSB7XG5cdFx0XHRcdHdwc2VvX3NlbmRfbWFya19hc19maXhlZChcblx0XHRcdFx0XHRqUXVlcnkoIFwiLndwc2VvLWdzYy1hamF4LXNlY3VyaXR5XCIgKS52YWwoKSxcblx0XHRcdFx0XHRqUXVlcnkoIFwiI2ZpZWxkX3BsYXRmb3JtXCIgKS52YWwoKSxcblx0XHRcdFx0XHRqUXVlcnkoIFwiI2ZpZWxkX2NhdGVnb3J5XCIgKS52YWwoKSxcblx0XHRcdFx0XHRvbGRVUkxcblx0XHRcdFx0KTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVtb3ZlIHRoZSB0aGlja2JveC5cblx0XHRcdHRiX3JlbW92ZSgpO1xuXHRcdH0sXG5cdH0gKTtcblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogQWRkcyBvbmNoYW5nZSBldmVudCB0byB0aGUgZHJvcGRvd25zLlxuICpcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5qUXVlcnkoIGZ1bmN0aW9uKCkge1xuXHR2YXIgcmVkaXJlY3RUeXBlcyA9IGpRdWVyeSggXCJzZWxlY3RbbmFtZT1yZWRpcmVjdC10eXBlXVwiICk7XG5cblx0dmFyIEFMTE9XX0VNUFRZX1RBUkdFVCA9IFtcblx0XHQ0MTAsIDQ1MSxcblx0XTtcblxuXHRyZWRpcmVjdFR5cGVzLm9uKCBcImNoYW5nZVwiLCBmdW5jdGlvbiAoIGV2dCApIHtcblx0XHR2YXIgdHlwZSAgICAgICAgICAgID0gcGFyc2VJbnQoIHRoaXMudmFsdWUsIDEwICk7XG5cdFx0dmFyIGZpZWxkVG9Ub2dnbGUgPSBqUXVlcnkoIGV2dC50YXJnZXQgKS5jbG9zZXN0KCBcIi53cHNlb19jb250ZW50X3dyYXBwZXJcIiApLmZpbmQoIFwiLmZvcm0tZmllbGQtdGFyZ2V0XCIgKVswXTtcblxuXHRcdC8vIEhpZGUgdGhlIHRhcmdldCBmaWVsZCBpbiBjYXNlIG9mIGEgNDEwIHJlZGlyZWN0LlxuXHRcdGlmKCBqUXVlcnkuaW5BcnJheSggdHlwZSwgQUxMT1dfRU1QVFlfVEFSR0VUICkgPiAtMSApIHtcblx0XHRcdGpRdWVyeSggZmllbGRUb1RvZ2dsZSApLmhpZGUoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0alF1ZXJ5KCBmaWVsZFRvVG9nZ2xlICkuc2hvdygpO1xuXHRcdH1cblx0fSApO1xufSApO1xuXG53aW5kb3cud3BzZW9Qb3N0UmVkaXJlY3RUb0dTQyA9IHdwc2VvUG9zdFJlZGlyZWN0VG9HU0M7XG4iXX0=
