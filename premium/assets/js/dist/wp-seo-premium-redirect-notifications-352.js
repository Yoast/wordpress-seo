(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var redirectFunctions = require("./redirects/functions");

window.wpseo_undo_redirect = redirectFunctions.wpseo_undo_redirect;
window.wpseo_create_redirect = redirectFunctions.wpseo_create_redirect;

},{"./redirects/functions":2}],2:[function(require,module,exports){
"use strict";

/* global wpseo_premium_strings, ajaxurl */

/**
 * Undoes a redirect.
 *
 * @param {string} origin The redirect's origin.
 * @param {string} target The redirect's target.
 * @param {string} type The type of redirect.
 * @param {string} nonce The nonce being used to validate the current AJAX request.
 * @param {object} source The DOMElement containing the alerts.
 *
 * @returns {void}
 */
function wpseo_undo_redirect(origin, target, type, nonce, source) {
	jQuery.post(ajaxurl, {
		action: "wpseo_delete_redirect_plain",
		ajax_nonce: nonce,
		redirect: {
			origin: origin,
			target: target,
			type: type
		}
	}, function () {
		jQuery(source).closest(".yoast-alert").fadeOut("slow");
	});
}

/**
 * Creates a redirect
 *
 * @param {string} origin The origin.
 * @param {string} type   The redirect type, regex or plain.
 * @param {string} nonce  The nonce.
 * @param {object} source The source of the redirect.
 *
 * @returns {void}
 */
function wpseo_create_redirect(origin, type, nonce, source) {
	var target = "";

	if (parseInt(type, 10) !== 410) {
		/* eslint-disable no-alert */
		target = window.prompt(wpseo_premium_strings.enter_new_url.replace("%s", origin));
		/* eslint-enable no-alert */

		if (target === '') {
			/* eslint-disable no-alert */
			window.alert(wpseo_premium_strings.error_new_url);
			/* eslint-enable no-alert */
			return;
		}
	}

	jQuery.post(ajaxurl, {
		action: "wpseo_add_redirect_plain",
		ajax_nonce: nonce,
		redirect: {
			origin: origin,
			target: target,
			type: type
		}
	}, function (response) {
		var notice = jQuery(source).closest(".yoast-alert");
		// Remove the classes first.
		jQuery(notice).removeClass("updated").removeClass("error");

		// Remove possibly added redirect errors.
		jQuery(notice).find(".redirect_error").remove();

		if (response.error) {
			// Add paragraph on top of the notice with actions and set class to error.
			jQuery(notice).addClass("error").prepend("<p class=\"redirect_error\">" + response.error.message + "</p>");

			return;
		}

		// Parse the success message.
		var successMessage = "";
		if (parseInt(type, 10) === 410) {
			successMessage = wpseo_premium_strings.redirect_saved_no_target;
		} else {
			successMessage = wpseo_premium_strings.redirect_saved.replace("%2$s", "<code>" + response.target + "</code>");
		}

		successMessage = successMessage.replace("%1$s", "<code>" + response.origin + "</code>");

		// Set class to updated and replace html with the success message.
		jQuery(notice).addClass("updated").html("<p>" + successMessage + "</p>");
	}, "json");
}

module.exports = {
	wpseo_create_redirect: wpseo_create_redirect,
	wpseo_undo_redirect: wpseo_undo_redirect
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHNcXGpzXFxzcmNcXHJlZGlyZWN0LW5vdGlmaWNhdGlvbnMuanMiLCJhc3NldHNcXGpzXFxzcmNcXHJlZGlyZWN0c1xcZnVuY3Rpb25zLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFJLG9CQUFvQixRQUFTLHVCQUFULENBQXhCOztBQUVBLE9BQU8sbUJBQVAsR0FBNkIsa0JBQWtCLG1CQUEvQztBQUNBLE9BQU8scUJBQVAsR0FBK0Isa0JBQWtCLHFCQUFqRDs7Ozs7QUNIQTs7QUFFQTs7Ozs7Ozs7Ozs7QUFXQSxTQUFTLG1CQUFULENBQThCLE1BQTlCLEVBQXNDLE1BQXRDLEVBQThDLElBQTlDLEVBQW9ELEtBQXBELEVBQTJELE1BQTNELEVBQW9FO0FBQ25FLFFBQU8sSUFBUCxDQUNDLE9BREQsRUFFQztBQUNDLFVBQVEsNkJBRFQ7QUFFQyxjQUFZLEtBRmI7QUFHQyxZQUFVO0FBQ1QsV0FBUSxNQURDO0FBRVQsV0FBUSxNQUZDO0FBR1QsU0FBTTtBQUhHO0FBSFgsRUFGRCxFQVdDLFlBQVc7QUFDVixTQUFRLE1BQVIsRUFBaUIsT0FBakIsQ0FBMEIsY0FBMUIsRUFBMkMsT0FBM0MsQ0FBb0QsTUFBcEQ7QUFDQSxFQWJGO0FBZUE7O0FBRUQ7Ozs7Ozs7Ozs7QUFVQSxTQUFTLHFCQUFULENBQWdDLE1BQWhDLEVBQXdDLElBQXhDLEVBQThDLEtBQTlDLEVBQXFELE1BQXJELEVBQThEO0FBQzdELEtBQUksU0FBUyxFQUFiOztBQUVBLEtBQUksU0FBVSxJQUFWLEVBQWdCLEVBQWhCLE1BQXlCLEdBQTdCLEVBQW1DO0FBQ2xDO0FBQ0EsV0FBUyxPQUFPLE1BQVAsQ0FBZSxzQkFBc0IsYUFBdEIsQ0FBb0MsT0FBcEMsQ0FBNkMsSUFBN0MsRUFBbUQsTUFBbkQsQ0FBZixDQUFUO0FBQ0E7O0FBRUEsTUFBSyxXQUFXLEVBQWhCLEVBQXFCO0FBQ3BCO0FBQ0EsVUFBTyxLQUFQLENBQWMsc0JBQXNCLGFBQXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Q7O0FBRUQsUUFBTyxJQUFQLENBQ0MsT0FERCxFQUVDO0FBQ0MsVUFBUSwwQkFEVDtBQUVDLGNBQVksS0FGYjtBQUdDLFlBQVU7QUFDVCxXQUFRLE1BREM7QUFFVCxXQUFRLE1BRkM7QUFHVCxTQUFNO0FBSEc7QUFIWCxFQUZELEVBV0MsVUFBVSxRQUFWLEVBQXFCO0FBQ3BCLE1BQUksU0FBUyxPQUFRLE1BQVIsRUFBaUIsT0FBakIsQ0FBMEIsY0FBMUIsQ0FBYjtBQUNBO0FBQ0EsU0FBUSxNQUFSLEVBQ0UsV0FERixDQUNlLFNBRGYsRUFFRSxXQUZGLENBRWUsT0FGZjs7QUFJQTtBQUNBLFNBQVEsTUFBUixFQUFpQixJQUFqQixDQUF1QixpQkFBdkIsRUFBMkMsTUFBM0M7O0FBRUEsTUFBSSxTQUFTLEtBQWIsRUFBcUI7QUFDcEI7QUFDQSxVQUFRLE1BQVIsRUFDRSxRQURGLENBQ1ksT0FEWixFQUVFLE9BRkYsQ0FFVyxpQ0FBaUMsU0FBUyxLQUFULENBQWUsT0FBaEQsR0FBMEQsTUFGckU7O0FBSUE7QUFDQTs7QUFFRDtBQUNBLE1BQUksaUJBQWlCLEVBQXJCO0FBQ0EsTUFBSSxTQUFVLElBQVYsRUFBZ0IsRUFBaEIsTUFBeUIsR0FBN0IsRUFBbUM7QUFDbEMsb0JBQWlCLHNCQUFzQix3QkFBdkM7QUFDQSxHQUZELE1BRU87QUFDTixvQkFBaUIsc0JBQXNCLGNBQXRCLENBQXFDLE9BQXJDLENBQThDLE1BQTlDLEVBQXNELFdBQVcsU0FBUyxNQUFwQixHQUE2QixTQUFuRixDQUFqQjtBQUNBOztBQUVELG1CQUFpQixlQUFlLE9BQWYsQ0FBd0IsTUFBeEIsRUFBZ0MsV0FBVyxTQUFTLE1BQXBCLEdBQTZCLFNBQTdELENBQWpCOztBQUVBO0FBQ0EsU0FBUSxNQUFSLEVBQ0UsUUFERixDQUNZLFNBRFosRUFFRSxJQUZGLENBRVEsUUFBUSxjQUFSLEdBQXlCLE1BRmpDO0FBR0EsRUE1Q0YsRUE2Q0MsTUE3Q0Q7QUErQ0E7O0FBRUQsT0FBTyxPQUFQLEdBQWlCO0FBQ2hCLHdCQUF1QixxQkFEUDtBQUVoQixzQkFBcUI7QUFGTCxDQUFqQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJ2YXIgcmVkaXJlY3RGdW5jdGlvbnMgPSByZXF1aXJlKCBcIi4vcmVkaXJlY3RzL2Z1bmN0aW9uc1wiICk7XHJcblxyXG53aW5kb3cud3BzZW9fdW5kb19yZWRpcmVjdCA9IHJlZGlyZWN0RnVuY3Rpb25zLndwc2VvX3VuZG9fcmVkaXJlY3Q7XHJcbndpbmRvdy53cHNlb19jcmVhdGVfcmVkaXJlY3QgPSByZWRpcmVjdEZ1bmN0aW9ucy53cHNlb19jcmVhdGVfcmVkaXJlY3Q7XHJcbiIsIi8qIGdsb2JhbCB3cHNlb19wcmVtaXVtX3N0cmluZ3MsIGFqYXh1cmwgKi9cclxuXHJcbi8qKlxyXG4gKiBVbmRvZXMgYSByZWRpcmVjdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG9yaWdpbiBUaGUgcmVkaXJlY3QncyBvcmlnaW4uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YXJnZXQgVGhlIHJlZGlyZWN0J3MgdGFyZ2V0LlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgdHlwZSBvZiByZWRpcmVjdC5cclxuICogQHBhcmFtIHtzdHJpbmd9IG5vbmNlIFRoZSBub25jZSBiZWluZyB1c2VkIHRvIHZhbGlkYXRlIHRoZSBjdXJyZW50IEFKQVggcmVxdWVzdC5cclxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgRE9NRWxlbWVudCBjb250YWluaW5nIHRoZSBhbGVydHMuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHt2b2lkfVxyXG4gKi9cclxuZnVuY3Rpb24gd3BzZW9fdW5kb19yZWRpcmVjdCggb3JpZ2luLCB0YXJnZXQsIHR5cGUsIG5vbmNlLCBzb3VyY2UgKSB7XHJcblx0alF1ZXJ5LnBvc3QoXHJcblx0XHRhamF4dXJsLFxyXG5cdFx0e1xyXG5cdFx0XHRhY3Rpb246IFwid3BzZW9fZGVsZXRlX3JlZGlyZWN0X3BsYWluXCIsXHJcblx0XHRcdGFqYXhfbm9uY2U6IG5vbmNlLFxyXG5cdFx0XHRyZWRpcmVjdDoge1xyXG5cdFx0XHRcdG9yaWdpbjogb3JpZ2luLFxyXG5cdFx0XHRcdHRhcmdldDogdGFyZ2V0LFxyXG5cdFx0XHRcdHR5cGU6IHR5cGUsXHJcblx0XHRcdH0sXHJcblx0XHR9LFxyXG5cdFx0ZnVuY3Rpb24oKSB7XHJcblx0XHRcdGpRdWVyeSggc291cmNlICkuY2xvc2VzdCggXCIueW9hc3QtYWxlcnRcIiApLmZhZGVPdXQoIFwic2xvd1wiICk7XHJcblx0XHR9XHJcblx0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSByZWRpcmVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gb3JpZ2luIFRoZSBvcmlnaW4uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlICAgVGhlIHJlZGlyZWN0IHR5cGUsIHJlZ2V4IG9yIHBsYWluLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9uY2UgIFRoZSBub25jZS5cclxuICogQHBhcmFtIHtvYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9mIHRoZSByZWRpcmVjdC5cclxuICpcclxuICogQHJldHVybnMge3ZvaWR9XHJcbiAqL1xyXG5mdW5jdGlvbiB3cHNlb19jcmVhdGVfcmVkaXJlY3QoIG9yaWdpbiwgdHlwZSwgbm9uY2UsIHNvdXJjZSApIHtcclxuXHR2YXIgdGFyZ2V0ID0gXCJcIjtcclxuXHJcblx0aWYoIHBhcnNlSW50KCB0eXBlLCAxMCApICE9PSA0MTAgKSB7XHJcblx0XHQvKiBlc2xpbnQtZGlzYWJsZSBuby1hbGVydCAqL1xyXG5cdFx0dGFyZ2V0ID0gd2luZG93LnByb21wdCggd3BzZW9fcHJlbWl1bV9zdHJpbmdzLmVudGVyX25ld191cmwucmVwbGFjZSggXCIlc1wiLCBvcmlnaW4gKSApO1xyXG5cdFx0LyogZXNsaW50LWVuYWJsZSBuby1hbGVydCAqL1xyXG5cclxuXHRcdGlmICggdGFyZ2V0ID09PSAnJyApIHtcclxuXHRcdFx0LyogZXNsaW50LWRpc2FibGUgbm8tYWxlcnQgKi9cclxuXHRcdFx0d2luZG93LmFsZXJ0KCB3cHNlb19wcmVtaXVtX3N0cmluZ3MuZXJyb3JfbmV3X3VybCApO1xyXG5cdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWFsZXJ0ICovXHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGpRdWVyeS5wb3N0KFxyXG5cdFx0YWpheHVybCxcclxuXHRcdHtcclxuXHRcdFx0YWN0aW9uOiBcIndwc2VvX2FkZF9yZWRpcmVjdF9wbGFpblwiLFxyXG5cdFx0XHRhamF4X25vbmNlOiBub25jZSxcclxuXHRcdFx0cmVkaXJlY3Q6IHtcclxuXHRcdFx0XHRvcmlnaW46IG9yaWdpbixcclxuXHRcdFx0XHR0YXJnZXQ6IHRhcmdldCxcclxuXHRcdFx0XHR0eXBlOiB0eXBlLFxyXG5cdFx0XHR9LFxyXG5cdFx0fSxcclxuXHRcdGZ1bmN0aW9uKCByZXNwb25zZSApIHtcclxuXHRcdFx0dmFyIG5vdGljZSA9IGpRdWVyeSggc291cmNlICkuY2xvc2VzdCggXCIueW9hc3QtYWxlcnRcIiApO1xyXG5cdFx0XHQvLyBSZW1vdmUgdGhlIGNsYXNzZXMgZmlyc3QuXHJcblx0XHRcdGpRdWVyeSggbm90aWNlIClcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwidXBkYXRlZFwiIClcclxuXHRcdFx0XHQucmVtb3ZlQ2xhc3MoIFwiZXJyb3JcIiApO1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIHBvc3NpYmx5IGFkZGVkIHJlZGlyZWN0IGVycm9ycy5cclxuXHRcdFx0alF1ZXJ5KCBub3RpY2UgKS5maW5kKCBcIi5yZWRpcmVjdF9lcnJvclwiICkucmVtb3ZlKCk7XHJcblxyXG5cdFx0XHRpZiggcmVzcG9uc2UuZXJyb3IgKSB7XHJcblx0XHRcdFx0Ly8gQWRkIHBhcmFncmFwaCBvbiB0b3Agb2YgdGhlIG5vdGljZSB3aXRoIGFjdGlvbnMgYW5kIHNldCBjbGFzcyB0byBlcnJvci5cclxuXHRcdFx0XHRqUXVlcnkoIG5vdGljZSApXHJcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIFwiZXJyb3JcIiApXHJcblx0XHRcdFx0XHQucHJlcGVuZCggXCI8cCBjbGFzcz1cXFwicmVkaXJlY3RfZXJyb3JcXFwiPlwiICsgcmVzcG9uc2UuZXJyb3IubWVzc2FnZSArIFwiPC9wPlwiICk7XHJcblxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUGFyc2UgdGhlIHN1Y2Nlc3MgbWVzc2FnZS5cclxuXHRcdFx0dmFyIHN1Y2Nlc3NNZXNzYWdlID0gXCJcIjtcclxuXHRcdFx0aWYoIHBhcnNlSW50KCB0eXBlLCAxMCApID09PSA0MTAgKSB7XHJcblx0XHRcdFx0c3VjY2Vzc01lc3NhZ2UgPSB3cHNlb19wcmVtaXVtX3N0cmluZ3MucmVkaXJlY3Rfc2F2ZWRfbm9fdGFyZ2V0O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHN1Y2Nlc3NNZXNzYWdlID0gd3BzZW9fcHJlbWl1bV9zdHJpbmdzLnJlZGlyZWN0X3NhdmVkLnJlcGxhY2UoIFwiJTIkc1wiLCBcIjxjb2RlPlwiICsgcmVzcG9uc2UudGFyZ2V0ICsgXCI8L2NvZGU+XCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3VjY2Vzc01lc3NhZ2UgPSBzdWNjZXNzTWVzc2FnZS5yZXBsYWNlKCBcIiUxJHNcIiwgXCI8Y29kZT5cIiArIHJlc3BvbnNlLm9yaWdpbiArIFwiPC9jb2RlPlwiICk7XHJcblxyXG5cdFx0XHQvLyBTZXQgY2xhc3MgdG8gdXBkYXRlZCBhbmQgcmVwbGFjZSBodG1sIHdpdGggdGhlIHN1Y2Nlc3MgbWVzc2FnZS5cclxuXHRcdFx0alF1ZXJ5KCBub3RpY2UgKVxyXG5cdFx0XHRcdC5hZGRDbGFzcyggXCJ1cGRhdGVkXCIgKVxyXG5cdFx0XHRcdC5odG1sKCBcIjxwPlwiICsgc3VjY2Vzc01lc3NhZ2UgKyBcIjwvcD5cIiApO1xyXG5cdFx0fSxcclxuXHRcdFwianNvblwiXHJcblx0KTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcblx0d3BzZW9fY3JlYXRlX3JlZGlyZWN0OiB3cHNlb19jcmVhdGVfcmVkaXJlY3QsXHJcblx0d3BzZW9fdW5kb19yZWRpcmVjdDogd3BzZW9fdW5kb19yZWRpcmVjdCxcclxufTtcclxuIl19
