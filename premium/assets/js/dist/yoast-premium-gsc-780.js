yoastPremiumWebpackJsonp([5],{

/***/ 603:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* global tb_remove, wpseo_send_mark_as_fixed, yoastPremiumGSC */\n\n/**\n * Adds a redirect from the Google Search Console overview.\n *\n * @returns {boolean} Always returns false to cancel the default event handler.\n */\nfunction wpseoPostRedirectToGSC() {\n\tvar targetForm = jQuery(\"#TB_ajaxContent\");\n\tvar oldURL = jQuery(targetForm).find(\"input[name=current_url]\").val();\n\tvar newURL = jQuery(targetForm).find(\"input[name=new_url]\").val();\n\tvar isChecked = jQuery(targetForm).find(\"input[name=mark_as_fixed]\").prop(\"checked\");\n\tvar type = parseInt(jQuery(targetForm).find(\"select[name=redirect-type]\").val(), 10);\n\n\tjQuery.ajax({\n\t\ttype: \"POST\",\n\t\turl: yoastPremiumGSC.data.restAPI.root + \"yoast/v1/redirects\",\n\t\tbeforeSend: function beforeSend(xhr) {\n\t\t\txhr.setRequestHeader(\"X-WP-Nonce\", yoastPremiumGSC.data.restAPI.nonce);\n\t\t},\n\t\tdataType: \"json\",\n\t\tdata: {\n\t\t\torigin: oldURL,\n\t\t\ttarget: newURL,\n\t\t\ttype: type\n\t\t},\n\t\tsuccess: function success(response) {\n\t\t\tif (response === \"true\" && isChecked === true) {\n\t\t\t\twpseo_send_mark_as_fixed(jQuery(\".wpseo-gsc-ajax-security\").val(), jQuery(\"#field_platform\").val(), jQuery(\"#field_category\").val(), oldURL);\n\t\t\t}\n\n\t\t\t// Remove the thickbox.\n\t\t\ttb_remove();\n\t\t}\n\t});\n\n\treturn false;\n}\n\n/**\n * Adds onchange event to the dropdowns.\n *\n * @returns {void}\n */\njQuery(function () {\n\tvar redirectTypes = jQuery(\"select[name=redirect-type]\");\n\n\tvar ALLOW_EMPTY_TARGET = [410, 451];\n\n\tredirectTypes.on(\"change\", function (evt) {\n\t\tvar type = parseInt(this.value, 10);\n\t\tvar fieldToToggle = jQuery(evt.target).closest(\".wpseo_content_wrapper\").find(\".form-field-target\")[0];\n\n\t\t// Hide the target field in case of a 410 redirect.\n\t\tif (jQuery.inArray(type, ALLOW_EMPTY_TARGET) > -1) {\n\t\t\tjQuery(fieldToToggle).hide();\n\t\t} else {\n\t\t\tjQuery(fieldToToggle).show();\n\t\t}\n\t});\n});\n\nwindow.wpseoPostRedirectToGSC = wpseoPostRedirectToGSC;\n\n//////////////////\n// WEBPACK FOOTER\n// ./google-search-console.js\n// module id = 603\n// module chunks = 5\n\n//# sourceURL=webpack:///./google-search-console.js?");

/***/ })

},[603]);