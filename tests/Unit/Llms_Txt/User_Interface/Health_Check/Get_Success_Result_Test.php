<?php
// phpcs:disable Yoast.NamingConventions.NamespaceName.TooLong -- Needed in the folder structure.
// phpcs:disable Yoast.NamingConventions.NamespaceName.MaxExceeded
namespace Yoast\WP\SEO\Tests\Unit\Llms_Txt\User_Interface\Health_Check;

/**
 * File_Reports test.
 *
 * @covers Yoast\WP\SEO\Llms_Txt\User_Interface\Health_Check\File_Reports::__construct
 * @covers Yoast\WP\SEO\Llms_Txt\User_Interface\Health_Check\File_Reports::get_success_result
 */
final class Get_Success_Result_Test extends Abstract_File_Reports_Test {

	/**
	 * Check if the success report is built correctly.
	 *
	 * @return void
	 */
	public function test_creates_success_report_correctly() {
		$expected = [ 'correct' ];

		$this->reports
			->shouldReceive( 'set_label' )
			->with( 'Your llms.txt file is auto-generated by Yoast SEO' )
			->andReturn( $this->reports )
			->once();
		$this->reports
			->shouldReceive( 'set_status_good' )
			->andReturn( $this->reports )
			->once();
		$this->reports
			->shouldReceive( 'set_description' )
			->with( 'Yoast SEO keeps your llms.txt file up-to-date. This helps LLMs access and provide your site\'s information more easily.' )
			->andReturn( $this->reports )
			->once();
		$this->reports
			->shouldReceive( 'build' )
			->andReturn( $expected )
			->once();

		$actual = $this->instance->get_success_result();

		$this->assertSame( $expected, $actual );
	}
}
