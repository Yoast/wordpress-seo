"use strict";function wpseoDetectWrongVariables(a){var b=!1,c="",d=[],e=["userid","name","user_description"],f=["date"],g=["title","parent_title","excerpt","excerpt_only","caption","focuskw","pt_single","pt_plural","modified","id"],h=["term404","searchphrase"],i=["term_title","term_description"],j=["category","category_description","tag","tag_description"];a.hasClass("posttype-template")?d=d.concat(h,i):a.hasClass("homepage-template")?d=d.concat(e,f,g,h,i,j):a.hasClass("taxonomy-template")?d=d.concat(e,f,g,h):a.hasClass("author-template")?d=d.concat(g,f,h,i,j):a.hasClass("date-template")?d=d.concat(e,g,h,i,j):a.hasClass("search-template")?d=d.concat(e,f,g,i,j,["term404"]):a.hasClass("error404-template")&&(d=d.concat(e,f,g,i,j,["searchphrase"])),jQuery.each(d,function(d,e){if(c=a.attr("id")+"-"+e+"-warning",-1!==a.val().search("%%"+e+"%%")){a.addClass("wpseo_variable_warning");var f=wpseoAdminL10n.variable_warning.replace("%s","%%"+e+"%%");jQuery("#"+c).length?jQuery("#"+c).html(f):a.after(' <div id="'+c+'" class="wpseo_variable_warning"><div class="clear"></div>'+f+"</div>"),b=!0}else jQuery("#"+c).length&&jQuery("#"+c).remove()}),b===!1&&a.removeClass("wpseo_variable_warning")}function setWPOption(a,b,c,d){jQuery.post(ajaxurl,{action:"wpseo_set_option",option:a,newval:b,_wpnonce:d},function(a){a&&jQuery("#"+c).hide()})}function wpseoKillBlockingFiles(a){jQuery.post(ajaxurl,{action:"wpseo_kill_blocking_files",_ajax_nonce:a},function(a){"success"===a?jQuery("#blocking_files").hide():jQuery("#block_files").html(a)})}function wpseoCopyHomeMeta(){jQuery("#og_frontpage_desc").val(jQuery("#meta_description").val())}function wpseoSetTabHash(){var a=jQuery("#wpseo-conf");if(a.length){var b=a.attr("action").split("#")[0];a.attr("action",b+window.location.hash)}}function wpseo_add_fb_admin(){var a=jQuery("#TB_ajaxContent");jQuery.post(ajaxurl,{_wpnonce:a.find("input[name=fb_admin_nonce]").val(),admin_name:a.find("input[name=fb_admin_name]").val(),admin_id:a.find("input[name=fb_admin_id]").val(),action:"wpseo_add_fb_admin"},function(b){var c=jQuery.parseJSON(b);switch(a.find("p.notice").remove(),c.success){case 1:a.find("input[type=text]").val(""),jQuery("#user_admin").append(c.html),jQuery("#connected_fb_admins").show(),tb_remove();break;case 0:jQuery(c.html).insertAfter(a.find("h3"))}})}function wpseo_recalculate_scores(a){var b=parseInt(jQuery("#wpseo_count_total").text(),10),c=jQuery("#wpseo_count"),d=jQuery("#wpseo_progressbar");c.text(0),d.progressbar({value:0});var e=new YoastSEO.Jed({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}),f={update_progressbar:function(a){var e=c.text(),f=parseInt(e,10)+a,g=f*(100/b);d.progressbar("value",g),c.html(f)},calculate_scores:function(a,b){for(var c=[],d=0;a>d;d++){var e=b[d],g=f.calculate_score(e);c.push({post_id:e.post_id,score:g})}return c},calculate_score:function(a){a.i18n=e;var b=new YoastSEO.Analyzer(a);return b.runQueue(),b.analyzeScorer.__totalScore},parse_response:function(a){if(""!==a&&null!==a){if(void 0!==a.total_posts){var b=f.calculate_scores(a.total_posts,a.posts);f.send_scores(b),f.update_progressbar(a.total_posts)}void 0!==a.next_page&&f.get_posts_to_recalculate(a.next_page)}},send_scores:function(a){jQuery.post(ajaxurl,{action:"wpseo_update_score",nonce:jQuery("#wpseo_recalculate_nonce").val(),scores:a})},get_posts_to_recalculate:function(a){jQuery.post(ajaxurl,{action:"wpseo_recalculate_scores",nonce:jQuery("#wpseo_recalculate_nonce").val(),paged:a},f.parse_response,"json")}};f.get_posts_to_recalculate(a)}jQuery(document).ready(function(){jQuery(".screen-meta-toggle a").click(function(){jQuery("#sidebar-container").toggle()}),jQuery("#enablexmlsitemap").change(function(){jQuery("#sitemapinfo").toggle(jQuery(this).is(":checked"))}).change(),jQuery("#breadcrumbs-enable").change(function(){jQuery("#breadcrumbsinfo").toggle(jQuery(this).is(":checked"))}).change(),jQuery("#disable_author_sitemap").change(function(){jQuery("#xml_user_block").toggle(!jQuery(this).is(":checked"))}).change(),jQuery("#cleanpermalinks").change(function(){jQuery("#cleanpermalinksdiv").toggle(jQuery(this).is(":checked"))}).change(),jQuery("#wpseo-tabs").find("a").click(function(){jQuery("#wpseo-tabs").find("a").removeClass("nav-tab-active"),jQuery(".wpseotab").removeClass("active");var a=jQuery(this).attr("id").replace("-tab","");jQuery("#"+a).addClass("active"),jQuery(this).addClass("nav-tab-active")}),jQuery("#company_or_person").change(function(){var a=jQuery(this).val();"company"===a?(jQuery("#knowledge-graph-company").show(),jQuery("#knowledge-graph-person").hide()):"person"===a?(jQuery("#knowledge-graph-company").hide(),jQuery("#knowledge-graph-person").show()):(jQuery("#knowledge-graph-company").hide(),jQuery("#knowledge-graph-person").hide())}).change(),jQuery(".template").change(function(){wpseoDetectWrongVariables(jQuery(this))}).change();var a=window.location.hash.replace("#top#","");(""===a||"#_=_"===a)&&(a=jQuery(".wpseotab").attr("id")),jQuery("#"+a).addClass("active"),jQuery("#"+a+"-tab").addClass("nav-tab-active"),jQuery(".nav-tab-active").click()}),jQuery(window).on("hashchange",wpseoSetTabHash),jQuery(document).on("ready",wpseoSetTabHash);