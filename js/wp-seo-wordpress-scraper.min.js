YoastSEO="undefined"==typeof YoastSEO?{}:YoastSEO,YoastSEO.WordPressScraper=function(){},YoastSEO.WordPressScraper.prototype.getData=function(){"use strict";return{keyword:this.getDataFromInput("keyword"),meta:this.getDataFromInput("meta"),text:this.getDataFromInput("text"),pageTitle:this.getDataFromInput("pageTitle"),title:this.getDataFromInput("title"),url:this.getDataFromInput("url"),baseUrl:this.getDataFromInput("baseUrl"),excerpt:this.getDataFromInput("excerpt"),snippetTitle:this.getDataFromInput("snippetTitle"),snippetMeta:this.getDataFromInput("meta"),snippetCite:this.getDataFromInput("cite")}},YoastSEO.WordPressScraper.prototype.getDataFromInput=function(a){"use strict";var b="";switch(a){case"text":case"content":b=this.getContentTinyMCE();break;case"url":null!==document.getElementById("sample-permalink")&&(b=document.getElementById("sample-permalink").textContent);break;case"baseUrl":if(b=YoastSEO.app.config.sampleText.baseUrl,null!==document.getElementById("sample-permalink")){var c=document.getElementById("sample-permalink").getElementsByTagName("a")[0];"undefined"==typeof c&&(c=document.getElementById("sample-permalink")),b="undefined"!=typeof c?c.innerHTML.split("<span")[0]:""}break;case"cite":case"editable-post-name":if(null!==document.getElementById("editable-post-name")){b=document.getElementById("editable-post-name").textContent;var d=document.getElementById("new-post-slug");null!==d&&""===b&&(b=document.getElementById("new-post-slug").value)}break;case"meta":b=document.getElementById("yoast_wpseo_metadesc").value;break;case"keyword":b=document.getElementById("yoast_wpseo_focuskw").value;break;case"title":case"snippetTitle":b=document.getElementById("yoast_wpseo_title").value;break;case"pageTitle":b=document.getElementById("title").value;break;case"excerpt":null!==document.getElementById("excerpt")&&(b=document.getElementById("excerpt").value)}return b},YoastSEO.WordPressScraper.prototype.setDataFromSnippet=function(a,b){"use strict";switch(b){case"snippet_meta":document.getElementById("yoast_wpseo_metadesc").value=a;break;case"snippet_cite":null!==document.getElementById("editable-post-name")&&(document.getElementById("editable-post-name").textContent=a,document.getElementById("editable-post-name-full").textContent=a);break;case"snippet_title":document.getElementById("yoast_wpseo_title").value=a}},YoastSEO.WordPressScraper.prototype.getAnalyzerInput=function(){"use strict";"undefined"==typeof YoastSEO.app.snippetPreview?YoastSEO.app.init():YoastSEO.app.reloadSnippetText(),YoastSEO.app.runAnalyzerCallback()},YoastSEO.WordPressScraper.prototype.getContentTinyMCE=function(){"use strict";var a=document.getElementById("content").value;return 0!==tinyMCE.editors.length&&(a=tinyMCE.get("content").getContent()),a},YoastSEO.WordPressScraper.prototype.bindElementEvents=function(){"use strict";this.snippetPreviewEventBinder(YoastSEO.app.snippetPreview),this.inputElementEventBinder(),document.getElementById("yoast_wpseo_focuskw").addEventListener("keydown",YoastSEO.app.snippetPreview.disableEnter)},YoastSEO.WordPressScraper.prototype.snippetPreviewEventBinder=function(a){"use strict";var b=["snippet_meta","snippet_title"];null!==document.getElementById("editable-post-name")&&b.push("snippet_cite");for(var c=0;c<b.length;c++){var d=document.getElementById(b[c]);d.addEventListener("keydown",a.disableEnter),d.addEventListener("blur",a.checkTextLength),d.addEventListener("input",a.textFeedback),d.addEventListener("focus",a.textFeedback),d.addEventListener("mouseover",a.showEditIcon),d.addEventListener("mouseout",a.hideEditIcon),d.addEventListener("focus",a.hideEditIcon),d.addEventListener("keyup",a.hideEditIcon),d.addEventListener("focus",a.getUnformattedText),d.addEventListener("keyup",a.setUnformattedText),d.addEventListener("click",a.setFocus),d.className=d.className+" showIcon"}},YoastSEO.WordPressScraper.prototype.inputElementEventBinder=function(){"use strict";for(var a=["excerpt","content","editable-post-name","yoast_wpseo_focuskw","title"],b=0;b<a.length;b++){var c=document.getElementById(a[b]);null!==c&&document.getElementById(a[b]).addEventListener("change",YoastSEO.app.refresh.bind(YoastSEO.app))}document.getElementById("yoast_wpseo_focuskw").addEventListener("blur",this.resetQueue)},YoastSEO.WordPressScraper.prototype.resetQueue=function(){"use strict";""!==YoastSEO.app.rawData.keyword&&YoastSEO.app.runAnalyzer(this.rawData)},YoastSEO.WordPressScraper.prototype.updateSnippetValues=function(a){"use strict";var b=a.currentTarget.textContent,c=a.currentTarget.id;"undefined"!=typeof a.currentTarget.refObj.snippetPreview.unformattedText[c]&&(a.currentTarget.textContent=a.currentTarget.refObj.snippetPreview.unformattedText[c]),a.currentTarget.refObj.callbacks.setDataFromSnippet(b,a.currentTarget.id),this.refObj.rawData=a.currentTarget.refObj.callbacks.getData(),a.currentTarget.refObj.callbacks.getAnalyzerInput()},YoastSEO.WordPressScraper.prototype.saveScores=function(a){"use strict";var b=wp.template("score_svg");document.getElementById(YoastSEO.analyzerArgs.targets.overall).innerHTML=b(),document.getElementById("yoast_wpseo_linkdex").value=a},YoastSEO.WordPressScraper.prototype.citeAvailable=function(){"use strict";null===document.getElementById("editable-post-name")&&(document.getElementById("snippet_cite").contentEditable=!1)},jQuery(document).on("ajaxComplete",function(a,b){"use strict";null!==b.responseText.match("Permalink:")&&(YoastSEO.app.callbacks.getData(),YoastSEO.app.callbacks.getAnalyzerInput(),YoastSEO.app.snippetPreview.reRender())});