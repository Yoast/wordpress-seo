jQuery(document).ready(function(){var g="#wpseo-existing-title-";var j="#wpseo-new-title-";var i=".wpseo-new-title";var k="#wpseo-existing-metadesc-";var l="#wpseo-new-metadesc-";var f=".wpseo-new-metadesc";var e=null;var c=function(n,m){if(m!="success"){return}var o=n;if(typeof o=="string"){o=JSON.parse(o)}if(o instanceof Array){jQuery.each(o,function(){c(this,m)})}else{if(o.status=="success"){if(jQuery(e).closest(".wpseo_bulk_titles").length){jQuery(g+o.post_id).html(o.new_title.replace(/\\(?!\\)/g,""));jQuery(j+o.post_id).val("").focus()}else{if(jQuery(e).closest(".wpseo_bulk_descriptions").length){jQuery(k+o.post_id).html(o.new_metadesc.replace(/\\(?!\\)/g,""));jQuery(l+o.post_id).val("").focus()}}}else{alert("Failure")}}};var b=function(n){var m=jQuery.parseJSON(n);jQuery.each(m,function(){c(this)})};var h=function(n,m){e=m;if(jQuery(e).closest(".wpseo_bulk_titles").length==1){d(n)}else{if(jQuery(e).closest(".wpseo_bulk_descriptions").length==1){a(n)}}};var d=function(n){var m={action:"wpseo_save_title",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:n,new_title:jQuery(j+n).val(),existing_title:jQuery(g+n).html()};if(m.new_title==m.existing_title){jQuery(j+n).val("").focus()}else{if((m.new_title=="")&&!confirm("Are you sure you want to remove the existing Yoast SEO Title?")){jQuery(j+n).focus();return}jQuery.post(ajaxurl,m,c)}};var a=function(n){var m={action:"wpseo_save_desc",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:n,new_metadesc:jQuery(l+n).val(),existing_metadesc:jQuery(k+n).html()};if(m.new_metadesc==m.existing_metadesc){jQuery(l+n).val("").focus()}else{if(m.new_metadesc==""&&!confirm("Are you sure you want to remove the existing Yoast SEO Description?")){jQuery(m.new_metadesc+n).focus();return}jQuery.post(ajaxurl,m,c)}};jQuery.each(jQuery(i+", "+f),function(){jQuery(this).keypress(function(m){if(m.which==13){m.preventDefault();var n=jQuery(this).data("id");h(n)}})});jQuery.each(jQuery(".wpseo-save"),function(){jQuery(this).click(function(){var m=jQuery(this).data("id");h(m,this)})});jQuery.each(jQuery(".wpseo-save-all"),function(){var m=function(p){p.preventDefault();e=this;var o={action:"wpseo_save_all_titles",_ajax_nonce:wpseo_bulk_editor_nonce};o.send=false;o.titles={};o.existing_titles={};jQuery.each(jQuery(i),function(){var s=jQuery(this).data("id");var r=jQuery(this).val();var q=jQuery(g+s).html();if(r!=""){if(r==q){jQuery(j+s).val("").focus()}else{o.send=true;o.titles[s]=r;o.existing_titles[s]=q}}});if(o.send){jQuery.post(ajaxurl,o,c)}};var n=function(p){p.preventDefault();e=this;var o={action:"wpseo_save_all_descs",_ajax_nonce:wpseo_bulk_editor_nonce};o.send=false;o.metadescs={};o.existing_metadescs={};jQuery.each(jQuery(f),function(){var s=jQuery(this).data("id");var r=jQuery(this).val();var q=jQuery(k+s).html();if(r!=""){if(r==q){jQuery(l+s).val("").focus()}else{o.send=true;o.metadescs[s]=r;o.existing_metadescs[s]=q}}});if(o.send){jQuery.post(ajaxurl,o,c)}};if(jQuery(this).closest(".wpseo_bulk_titles").length){jQuery(this).on("click",m)}else{if(jQuery(this).closest(".wpseo_bulk_descriptions").length){jQuery(this).on("click",n)}}})});