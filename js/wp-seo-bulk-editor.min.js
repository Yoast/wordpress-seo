jQuery(document).ready(function(){var a="#wpseo-existing-title-",b="#wpseo-new-title-",c=".wpseo-new-title",d="#wpseo-existing-metadesc-",e="#wpseo-new-metadesc-",f=".wpseo-new-metadesc",g=null,h=function(c,f){if("success"==f){var i=c;"string"==typeof i&&(i=JSON.parse(i)),i instanceof Array?jQuery.each(i,function(){h(this,f)}):"success"==i.status?jQuery(g).closest(".wpseo_bulk_titles").length?(jQuery(a+i.post_id).html(i.new_title.replace(/\\(?!\\)/g,"")),jQuery(b+i.post_id).val("").focus()):jQuery(g).closest(".wpseo_bulk_descriptions").length&&(jQuery(d+i.post_id).html(i.new_metadesc.replace(/\\(?!\\)/g,"")),jQuery(e+i.post_id).val("").focus()):alert("Failure")}},i=function(a,b){g=b,1==jQuery(g).closest(".wpseo_bulk_titles").length?j(a):1==jQuery(g).closest(".wpseo_bulk_descriptions").length&&k(a)},j=function(c){var d={action:"wpseo_save_title",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:c,new_title:jQuery(b+c).val(),existing_title:jQuery(a+c).html()};if(d.new_title==d.existing_title)jQuery(b+c).val("").focus();else{if(""==d.new_title&&!confirm("Are you sure you want to remove the existing Yoast SEO Title?"))return void jQuery(b+c).focus();jQuery.post(ajaxurl,d,h)}},k=function(a){var b={action:"wpseo_save_desc",_ajax_nonce:wpseo_bulk_editor_nonce,wpseo_post_id:a,new_metadesc:jQuery(e+a).val(),existing_metadesc:jQuery(d+a).html()};if(b.new_metadesc==b.existing_metadesc)jQuery(e+a).val("").focus();else{if(""==b.new_metadesc&&!confirm("Are you sure you want to remove the existing Yoast SEO Description?"))return void jQuery(b.new_metadesc+a).focus();jQuery.post(ajaxurl,b,h)}};jQuery.each(jQuery(c+", "+f),function(){jQuery(this).keypress(function(a){if(13==a.which){a.preventDefault();var b=jQuery(this).data("id");i(b)}})}),jQuery.each(jQuery(".wpseo-save"),function(){jQuery(this).click(function(){var a=jQuery(this).data("id");i(a,this)})}),jQuery.each(jQuery(".wpseo-save-all"),function(){var i=function(d){d.preventDefault(),g=this;var e={action:"wpseo_save_all_titles",_ajax_nonce:wpseo_bulk_editor_nonce};e.send=!1,e.titles={},e.existing_titles={},jQuery.each(jQuery(c),function(){var c=jQuery(this).data("id"),d=jQuery(this).val(),f=jQuery(a+c).html();""!=d&&(d==f?jQuery(b+c).val("").focus():(e.send=!0,e.titles[c]=d,e.existing_titles[c]=f))}),e.send&&jQuery.post(ajaxurl,e,h)},j=function(a){a.preventDefault(),g=this;var b={action:"wpseo_save_all_descs",_ajax_nonce:wpseo_bulk_editor_nonce};b.send=!1,b.metadescs={},b.existing_metadescs={},jQuery.each(jQuery(f),function(){var a=jQuery(this).data("id"),c=jQuery(this).val(),f=jQuery(d+a).html();""!=c&&(c==f?jQuery(e+a).val("").focus():(b.send=!0,b.metadescs[a]=c,b.existing_metadescs[a]=f))}),b.send&&jQuery.post(ajaxurl,b,h)};jQuery(this).closest(".wpseo_bulk_titles").length?jQuery(this).on("click",i):jQuery(this).closest(".wpseo_bulk_descriptions").length&&jQuery(this).on("click",j)})});