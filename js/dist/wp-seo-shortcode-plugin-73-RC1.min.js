!function e(t,n,r){function o(i,s){if(!n[i]){if(!t[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[i]={exports:{}};t[i][0].call(u.exports,function(e){var n=t[i][1][e];return o(n||e)},u,u.exports,e,t,n,r)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=new RegExp("\\[[^<>&/\\[\\]\0- =]+?( [^\\]]+?)?\\]","g"),a=new RegExp("\\[/[^<>&/\\[\\]\0- =]+?\\]","g");!function(){var e=function(e){this._app=e,this._app.registerPlugin("YoastShortcodePlugin",{status:"loading"}),this.bindElementEvents();var t="("+wpseoShortcodePluginL10n.wpseo_shortcode_tags.join("|")+")";this.keywordRegex=new RegExp(t,"g"),this.closingTagRegex=new RegExp("\\[\\/"+t+"\\]","g"),this.nonCaptureRegex=new RegExp("\\["+t+"[^\\]]*?\\]","g"),this.parsedShortcodes=[],this.loadShortcodes(this.declareReady.bind(this))};e.prototype.declareReady=function(){this._app.pluginReady("YoastShortcodePlugin"),this.registerModifications()},e.prototype.declareReloaded=function(){this._app.pluginReloaded("YoastShortcodePlugin")},e.prototype.registerModifications=function(){this._app.registerModification("content",this.replaceShortcodes.bind(this),"YoastShortcodePlugin")},e.prototype.removeUnknownShortCodes=function(e){return e=e.replace(o,""),e=e.replace(a,"")},e.prototype.replaceShortcodes=function(e){var t=this.parsedShortcodes;if("string"==typeof e&&t.length>0)for(var n=0;n<t.length;n++)e=e.replace(t[n].shortcode,t[n].output);return e=this.removeUnknownShortCodes(e)},e.prototype.loadShortcodes=function(e){var t=this.getUnparsedShortcodes(this.getShortcodes(this.getContentTinyMCE()));if(!(t.length>0))return e();this.parseShortcodes(t,e)},e.prototype.bindElementEvents=function(){var e=document.getElementById("content")||!1,t=_.debounce(this.loadShortcodes.bind(this,this.declareReloaded.bind(this)),500);e&&(e.addEventListener("keyup",t),e.addEventListener("change",t)),"undefined"!=typeof tinyMCE&&"function"==typeof tinyMCE.on&&tinyMCE.on("addEditor",function(e){e.editor.on("change",t),e.editor.on("keyup",t)})},e.prototype.getContentTinyMCE=function(){var e=document.getElementById("content")&&document.getElementById("content").value||"";return"undefined"!=typeof tinyMCE&&void 0!==tinyMCE.editors&&0!==tinyMCE.editors.length&&(e=tinyMCE.get("content")&&tinyMCE.get("content").getContent()||""),e},e.prototype.getUnparsedShortcodes=function(e){if("object"!==(void 0===e?"undefined":r(e)))return console.error("Failed to get unparsed shortcodes. Expected parameter to be an array, instead received "+(void 0===e?"undefined":r(e))),!1;for(var t=[],n=0;n<e.length;n++){var o=e[n];-1===t.indexOf(o)&&this.isUnparsedShortcode(o)&&t.push(o)}return t},e.prototype.isUnparsedShortcode=function(e){for(var t=!1,n=0;n<this.parsedShortcodes.length;n++)this.parsedShortcodes[n].shortcode===e&&(t=!0);return!1===t},e.prototype.getShortcodes=function(e){if("string"!=typeof e)return console.error("Failed to get shortcodes. Expected parameter to be a string, instead received"+(void 0===e?"undefined":r(e))),!1;for(var t=this.matchCapturingShortcodes(e),n=0;n<t.length;n++)e=e.replace(t[n],"");var o=this.matchNonCapturingShortcodes(e);return t.concat(o)},e.prototype.matchCapturingShortcodes=function(e){for(var t=[],n=(e.match(this.closingTagRegex)||[]).join(" ").match(this.keywordRegex)||[],r=0;r<n.length;r++){var o=n[r],a="\\["+o+"[^\\]]*?\\].*?\\[\\/"+o+"\\]",i=e.match(new RegExp(a,"g"))||[];t=t.concat(i)}return t},e.prototype.matchNonCapturingShortcodes=function(e){return e.match(this.nonCaptureRegex)||[]},e.prototype.parseShortcodes=function(e,t){return"function"!=typeof t?(console.error("Failed to parse shortcodes. Expected parameter to be a function, instead received "+(void 0===t?"undefined":r(t))),!1):"object"===(void 0===e?"undefined":r(e))&&e.length>0?void jQuery.post(ajaxurl,{action:"wpseo_filter_shortcodes",_wpnonce:wpseoShortcodePluginL10n.wpseo_filter_shortcodes_nonce,data:e},function(e){this.saveParsedShortcodes(e,t)}.bind(this)):t()},e.prototype.saveParsedShortcodes=function(e,t){e=JSON.parse(e);for(var n=0;n<e.length;n++)this.parsedShortcodes.push(e[n]);t()},window.YoastShortcodePlugin=e}()},{}]},{},[1]);