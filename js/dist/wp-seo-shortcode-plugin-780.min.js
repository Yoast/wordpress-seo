!function e(n,t,r){function o(i,s){if(!t[i]){if(!n[i]){var l="function"==typeof require&&require;if(!s&&l)return l(i,!0);if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=t[i]={exports:{}};n[i][0].call(u.exports,function(e){var t=n[i][1][e];return o(t||e)},u,u.exports,e,n,t,r)}return t[i].exports}for(var a="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(e,n,t){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=new RegExp("\\[[^<>&/\\[\\]\0- =]+?( [^\\]]+?)?\\]","g"),a=new RegExp("\\[/[^<>&/\\[\\]\0- =]+?\\]","g");!function(){var e=function(e){this._app=e,this._app.registerPlugin("YoastShortcodePlugin",{status:"loading"}),this.bindElementEvents();var n="("+wpseoShortcodePluginL10n.wpseo_shortcode_tags.join("|")+")";this.keywordRegex=new RegExp(n,"g"),this.closingTagRegex=new RegExp("\\[\\/"+n+"\\]","g"),this.nonCaptureRegex=new RegExp("\\["+n+"[^\\]]*?\\]","g"),this.parsedShortcodes=[],this.loadShortcodes(this.declareReady.bind(this))};e.prototype.declareReady=function(){this._app.pluginReady("YoastShortcodePlugin"),this.registerModifications()},e.prototype.declareReloaded=function(){this._app.pluginReloaded("YoastShortcodePlugin")},e.prototype.registerModifications=function(){this._app.registerModification("content",this.replaceShortcodes.bind(this),"YoastShortcodePlugin")},e.prototype.removeUnknownShortCodes=function(e){return e=e.replace(o,""),e=e.replace(a,"")},e.prototype.replaceShortcodes=function(e){var n=this.parsedShortcodes;if("string"==typeof e&&n.length>0)for(var t=0;t<n.length;t++)e=e.replace(n[t].shortcode,n[t].output);return e=this.removeUnknownShortCodes(e)},e.prototype.loadShortcodes=function(e){var n=this.getUnparsedShortcodes(this.getShortcodes(this.getContentTinyMCE()));if(!(n.length>0))return e();this.parseShortcodes(n,e)},e.prototype.bindElementEvents=function(){var e=document.getElementById("content")||!1,n=_.debounce(this.loadShortcodes.bind(this,this.declareReloaded.bind(this)),500);e&&(e.addEventListener("keyup",n),e.addEventListener("change",n)),"undefined"!=typeof tinyMCE&&"function"==typeof tinyMCE.on&&tinyMCE.on("addEditor",function(e){e.editor.on("change",n),e.editor.on("keyup",n)})},e.prototype.getContentTinyMCE=function(){var e=document.getElementById("content")&&document.getElementById("content").value||"";return"undefined"!=typeof tinyMCE&&void 0!==tinyMCE.editors&&0!==tinyMCE.editors.length&&(e=tinyMCE.get("content")&&tinyMCE.get("content").getContent()||""),e},e.prototype.getUnparsedShortcodes=function(e){if("object"!==(void 0===e?"undefined":r(e)))return console.error("Failed to get unparsed shortcodes. Expected parameter to be an array, instead received "+(void 0===e?"undefined":r(e))),!1;for(var n=[],t=0;t<e.length;t++){var o=e[t];-1===n.indexOf(o)&&this.isUnparsedShortcode(o)&&n.push(o)}return n},e.prototype.isUnparsedShortcode=function(e){for(var n=!1,t=0;t<this.parsedShortcodes.length;t++)this.parsedShortcodes[t].shortcode===e&&(n=!0);return!1===n},e.prototype.getShortcodes=function(e){if("string"!=typeof e)return console.error("Failed to get shortcodes. Expected parameter to be a string, instead received"+(void 0===e?"undefined":r(e))),!1;for(var n=this.matchCapturingShortcodes(e),t=0;t<n.length;t++)e=e.replace(n[t],"");var o=this.matchNonCapturingShortcodes(e);return n.concat(o)},e.prototype.matchCapturingShortcodes=function(e){for(var n=[],t=(e.match(this.closingTagRegex)||[]).join(" ").match(this.keywordRegex)||[],r=0;r<t.length;r++){var o=t[r],a="\\["+o+"[^\\]]*?\\].*?\\[\\/"+o+"\\]",i=e.match(new RegExp(a,"g"))||[];n=n.concat(i)}return n},e.prototype.matchNonCapturingShortcodes=function(e){return e.match(this.nonCaptureRegex)||[]},e.prototype.parseShortcodes=function(e,n){return"function"!=typeof n?(console.error("Failed to parse shortcodes. Expected parameter to be a function, instead received "+(void 0===n?"undefined":r(n))),!1):"object"===(void 0===e?"undefined":r(e))&&e.length>0?void jQuery.post(ajaxurl,{action:"wpseo_filter_shortcodes",_wpnonce:wpseoShortcodePluginL10n.wpseo_filter_shortcodes_nonce,data:e},function(e){this.saveParsedShortcodes(e,n)}.bind(this)):n()},e.prototype.saveParsedShortcodes=function(e,n){e=JSON.parse(e);for(var t=0;t<e.length;t++)this.parsedShortcodes.push(e[t]);n()},window.YoastShortcodePlugin=e}()},{}]},{},[1]);