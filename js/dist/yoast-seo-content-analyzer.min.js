YoastSEO_Analyzer=function(a){this.config=a,this.checkConfig(),this.init()},YoastSEO_Analyzer.prototype.checkConfig=function(){"undefined"==typeof this.config.text&&(this.config.text=""),"undefined"==typeof this.config.i18n&&(this.config.i18n=new Jed({domain:"js-text-analysis",locale_data:{"js-text-analysis":{"":{}}}}))},YoastSEO_Analyzer.prototype.init=function(){this.toLowCase(),this.initDependencies(),this.initQueue(),this.loadWordlists(),this.setDefaults(),this.__output=[],this.__store={}},YoastSEO_Analyzer.prototype.toLowCase=function(){"undefined"!=typeof this.config.keyword&&""!==this.config.keyword&&(this.config.keywordLowerCase=this.config.keyword.toLocaleLowerCase())},YoastSEO_Analyzer.prototype.initDependencies=function(){this.YoastSEO_preProcessor=new YoastSEO_preProcessor(this.config.text),this.stringHelper=stringHelper(),this.analyzeScorer=new YoastSEO_AnalyzeScorer(this)},YoastSEO_Analyzer.prototype.initQueue=function(){"undefined"!=typeof this.config.queue&&0!==this.config.queue.length?this.queue=this.config.queue.slice():this.queue=YoastSEO_config.analyzerConfig.queue.slice()},YoastSEO_Analyzer.prototype.loadWordlists=function(){"undefined"==typeof this.config.wordsToRemove&&(this.config.wordsToRemove=YoastSEO_config.analyzerConfig.wordsToRemove),"undefined"==typeof this.config.stopWords&&(this.config.stopWords=YoastSEO_config.analyzerConfig.stopWords)},YoastSEO_Analyzer.prototype.setDefaults=function(){this.keywordRegex=new RegExp(this.config.keywordLowerCase,"ig")},YoastSEO_Analyzer.prototype.runQueue=function(){this.queue.length>0?(this.__output=this.__output.concat(this[this.queue.shift()]()),this.runQueue()):this.score()},YoastSEO_Analyzer.prototype.abortQueue=function(){this.queue=[]},YoastSEO_Analyzer.prototype.wordCount=function(){return[{test:"wordCount",result:this.YoastSEO_preProcessor.__store.wordcountNoTags}]},YoastSEO_Analyzer.prototype.keywordDensity=function(){var a=[{test:"keywordDensity",result:0}];if(this.YoastSEO_preProcessor.__store.wordcount>100){var b=this.keywordDensityCheck();return a[0].result=b.toFixed(1),a}},YoastSEO_Analyzer.prototype.keywordDensityCheck=function(){var a=this.keywordCount(),b=0;return 0!==a&&(b=100*(a/this.YoastSEO_preProcessor.__store.wordcount-(a-1*a))),b},YoastSEO_Analyzer.prototype.keywordCount=function(){var a=this.stringHelper.matchString(this.YoastSEO_preProcessor.__store.cleanText,[this.config.keywordLowerCase]),b=0;return null!==a&&(b=a.length),this.__store.keywordCount=b,b},YoastSEO_Analyzer.prototype.subHeadings=function(){var a=[{test:"subHeadings",result:{count:0,matches:0}}],b=this.YoastSEO_preProcessor.__store.cleanTextSomeTags.match(/<h([1-6])(?:[^>]+)?>(.*?)<\/h\1>/gi);return null!==b&&(a[0].result.count=b.length,a[0].result.matches=this.subHeadingsCheck(b)),a},YoastSEO_Analyzer.prototype.subHeadingsCheck=function(a){var b;if(null===a)b=-1;else{b=0;for(var c=0;c<a.length;c++){var d=this.stringHelper.replaceString(a[c],this.config.wordsToRemove);(d.match(this.keywordRegex)||a[c].match(this.keywordRegex))&&b++}}return b},YoastSEO_Analyzer.prototype.stopwords=function(){var a=this.config.keyword,b=this.stringHelper.matchString(a,this.config.stopWords),c=null!==b?b.length:0,d="";if(null!==b)for(var e=0;e<b.length;e++)d=d+b[e]+", ";return[{test:"stopwordKeywordCount",result:{count:c,matches:d.substring(0,d.length-2)}}]},YoastSEO_Analyzer.prototype.fleschReading=function(){var a=(206.835-1.015*(this.YoastSEO_preProcessor.__store.wordcountNoTags/this.YoastSEO_preProcessor.__store.sentenceCountNoTags)-84.6*(this.YoastSEO_preProcessor.__store.syllablecount/this.YoastSEO_preProcessor.__store.wordcountNoTags)).toFixed(1);return 0>a?a=0:a>100&&(a=100),[{test:"fleschReading",result:a}]},YoastSEO_Analyzer.prototype.linkCount=function(){var a=this.YoastSEO_preProcessor.__store.originalText.match(/<a(?:[^>]+)?>(.*?)<\/a>/gi),b={total:0,totalKeyword:0,internalTotal:0,internalDofollow:0,internalNofollow:0,externalTotal:0,externalDofollow:0,externalNofollow:0,otherTotal:0,otherDofollow:0,otherNofollow:0};if(null!==a){b.total=a.length;for(var c=0;c<a.length;c++){var d=this.linkKeyword(a[c]);d&&b.totalKeyword++;var e=this.linkType(a[c]);b[e+"Total"]++;var f=this.linkFollow(a[c]);b[e+f]++}}return b=this.linkResult(b),[{test:"linkCount",result:b}]},YoastSEO_Analyzer.prototype.linkType=function(a){var b="other";if(null!==a.match(/https?:\/\//gi)){b="external";var c=a.match(this.config.url);null!==c&&0!==c[0].length&&(b="internal")}return b},YoastSEO_Analyzer.prototype.linkFollow=function(a){var b="Dofollow";return null!==a.match(/rel=([\'\"])nofollow\1/gi)&&(b="Nofollow"),b},YoastSEO_Analyzer.prototype.linkKeyword=function(a){var b=!1,c=a.split(">");return null!==c[1].match(this.keywordRegex)&&(b=!0),b},YoastSEO_Analyzer.prototype.linkResult=function(a){var b=a;return b.externalHasNofollow=!1,b.externalAllNofollow=!1,b.externalAllDofollow=!1,b.externalTotal!==b.externalDofollow&&b.externalTotal>0&&(b.externalHasNofollow=!0),b.externalTotal===b.externalNofollow&&b.externalTotal>0&&(b.externalAllNofollow=!0),b.externalTotal===b.externalDofollow&&b.externalTotal>0&&(b.externalAllDofollow=!0),b},YoastSEO_Analyzer.prototype.imageCount=function(){var a={total:0,alt:0,noAlt:0,altKeyword:0},b=this.YoastSEO_preProcessor.__store.originalText.match(/<img(?:[^>]+)?>/gi);if(null!==b){a.total=b.length;for(var c=0;c<b.length;c++){var d=b[c].match(/alt=([\'\"])(.*?)\1/gi);this.imageAlttag(d)?this.imageAlttagKeyword(d)?a.altKeyword++:a.alt++:a.noAlt++}}return[{test:"imageCount",result:a}]},YoastSEO_Analyzer.prototype.imageAlttag=function(a){var b=!1;return null!==a&&null!==a[0].split("=")[1].match(/[a-z0-9](.*?)[a-z0-9]/gi)&&(b=!0),b},YoastSEO_Analyzer.prototype.imageAlttagKeyword=function(a){var b=!1;return null!==a&&null!==a[0].match(this.keywordRegex)&&(b=!0),b},YoastSEO_Analyzer.prototype.pageTitleLength=function(){var a=0;return"undefined"!=typeof this.config.pageTitle&&(a=this.config.pageTitle.length),[{test:"pageTitleLength",result:a}]},YoastSEO_Analyzer.prototype.pageTitleKeyword=function(){var a=[{test:"pageTitleKeyword",result:{matches:0,position:0}}];return"undefined"!=typeof this.config.pageTitle&&(a[0].result.matches=this.stringHelper.countMatches(this.config.pageTitle.toLocaleLowerCase(),this.keywordRegex),a[0].result.position=this.config.pageTitle.indexOf(this.config.keyword)),a},YoastSEO_Analyzer.prototype.firstParagraph=function(){var a=[{test:"firstParagraph",result:0}],b=this.paragraphChecker(this.YoastSEO_preProcessor.__store.cleanTextSomeTags,new RegExp("<p(?:[^>]+)?>(.*?)</p>","ig"));return 0===b&&(b=this.paragraphChecker(this.YoastSEO_preProcessor.__store.originalText,new RegExp("[^]*?\n\n","ig"))),a[0].result=b,a},YoastSEO_Analyzer.prototype.paragraphChecker=function(a,b){var c=a.match(b),d=0;return null!==c&&(d=this.stringHelper.countMatches(c[0],this.keywordRegex)),d},YoastSEO_Analyzer.prototype.metaDescription=function(){var a=[{test:"metaDescriptionLength",result:0},{test:"metaDescriptionKeyword",result:0}];return"undefined"!=typeof this.config.meta&&(a[0].result=this.config.meta.length,a[1].result=this.stringHelper.countMatches(this.config.meta,this.keywordRegex)),a},YoastSEO_Analyzer.prototype.urlKeyword=function(){var a=[{test:"urlKeyword",result:0}],b=this.config.keywordLowerCase.replace(" ","[-_]");return b=new RegExp(b),"undefined"!=typeof this.config.url&&(a[0].result=this.stringHelper.countMatches(this.config.url,b)),a},YoastSEO_Analyzer.prototype.urlLength=function(){var a=[{test:"urlLength",result:{urlTooLong:!1}}];if("undefined"!=typeof this.config.url){var b=this.config.url.length;b>this.config.maxUrlLength&&b>this.config.maxSlugLength+this.config.keyword.length&&(a[0].result.urlTooLong=!0)}return a},YoastSEO_Analyzer.prototype.urlStopwords=function(){var a=[{test:"urlStopwords",result:0}];if("undefined"!=typeof this.config.url){var b=this.stringHelper.matchString(this.config.url,this.config.stopWords);null!==b&&(a[0].result=b.length)}return a},YoastSEO_Analyzer.prototype.keywordDoubles=function(){var a=[{test:"keywordDoubles",result:{count:0,id:0}}];return"undefined"!=typeof this.config.keyword&&"undefined"!=typeof this.config.usedKeywords[this.config.keyword]&&(a[0].result.count=this.config.usedKeywords[this.config.keyword].length,1===a[0].result.count&&(a[0].result.id=this.config.usedKeywords[this.config.keyword][0])),a},YoastSEO_Analyzer.prototype.score=function(){this.analyzeScorer.score(this.__output)},analyzerScoreRating=9,YoastSEOScoring=function(a){this.analyzerScoring=[{scoreName:"wordCount",scoreArray:[{min:300,score:9,text:a.dgettext("js-text-analysis","The text contains %1$d words, this is more than the %2$d word recommended minimum.")},{min:250,max:299,score:7,text:a.dgettext("js-text-analysis","The text contains %1$d words, this is slightly below the %2$d word recommended minimum, add a bit more copy.")},{min:200,max:249,score:5,text:a.dgettext("js-text-analysis","The text contains %1$d words, this is below the %2$d word recommended minimum. Add more useful content on this topic for readers.")},{min:100,max:199,score:-10,text:a.dgettext("js-text-analysis","The text contains %1$d words, this is below the %2$d word recommended minimum. Add more useful content on this topic for readers.")},{min:0,max:99,score:-20,text:a.dgettext("js-text-analysis","The text contains %1$d words. This is far too low and should be increased.")}],replaceArray:[{name:"wordCount",position:"%1$d",source:"matcher"},{name:"recommendedWordcount",position:"%2$d",value:300}]},{scoreName:"keywordDensity",scoreArray:[{min:3.5,score:-50,text:a.dgettext("js-text-analysis","The keyword density is %1$f%, which is way over the advised 2.5% maximum, the focus keyword was found %1$d times.")},{min:2.5,max:3.49,score:-10,text:a.dgettext("js-text-analysis","The keyword density is %1$f%, which is over the advised 2.5% maximum, the focus keyword was found %1$d times.")},{min:.5,max:2.49,score:9,text:a.dgettext("js-text-analysis","The keyword density is %1$f%, which is great, the focus keyword was found %1$d times.")},{min:0,max:.49,score:4,text:a.dgettext("js-text-analysis","The keyword density is %1$f%, which is a bit low, the focus keyword was found %1$d times.")}],replaceArray:[{name:"keywordDensity",position:"%1$f",source:"matcher"},{name:"keywordCount",position:"%1$d",sourceObj:".refObj.__store.keywordCount"}]},{scoreName:"linkCount",scoreArray:[{matcher:"total",min:0,max:0,score:6,text:a.dgettext("js-text-analysis","No outbound links appear in this page, consider adding some as appropriate.")},{matcher:"totalKeyword",min:1,score:2,text:a.dgettext("js-text-analysis","You're linking to another page with the focus keyword you want this page to rank for, consider changing that if you truly want this page to rank.")},{type:"externalAllNofollow",score:7,text:a.dgettext("js-text-analysis","This page has %2$s outbound link(s), all nofollowed.")},{type:"externalHasNofollow",score:8,text:a.dgettext("js-text-analysis","This page has %2$s nofollowed link(s) and %3$s normal outbound link(s).")},{type:"externalAllDofollow",score:9,text:a.dgettext("js-text-analysis","This page has %1$s outbound link(s).")}],replaceArray:[{name:"links",position:"%1$s",sourceObj:".result.externalTotal"},{name:"nofollow",position:"%2$s",sourceObj:".result.externalNofollow"},{name:"dofollow",position:"%3$s",sourceObj:".result.externalDofollow"}]},{scoreName:"fleschReading",scoreArray:[{min:90,score:9,text:"<%text%>",resultText:"very easy",note:""},{min:80,max:89.9,score:9,text:"<%text%>",resultText:"easy",note:""},{min:70,max:79.9,score:8,text:"<%text%>",resultText:"fairly easy",note:""},{min:60,max:69.9,score:7,text:"<%text%>",resultText:"ok",note:""},{min:50,max:59.9,score:6,text:"<%text%>",resultText:"fairly difficult",note:a.dgettext("js-text-analysis"," Try to make shorter sentences to improve readability.")},{min:30,max:49.9,score:5,text:"<%text%>",resultText:"difficult",note:a.dgettext("js-text-analysis"," Try to make shorter sentences, using less difficult words to improve readability.")},{min:0,max:29.9,score:4,text:"<%text%>",resultText:"very difficult",note:a.dgettext("js-text-analysis"," Try to make shorter sentences, using less difficult words to improve readability.")}],replaceArray:[{name:"scoreText",position:"<%text%>",value:a.dgettext("js-text-analysis","The copy scores %1$s in the %2$s test, which is considered %3$s to read.%4$s")},{name:"text",position:"%1$s",sourceObj:".result"},{name:"scoreUrl",position:"%2$s",value:"<a href='https://en.wikipedia.org/wiki/Flesch-Kincaid_readability_test#Flesch_Reading_Ease' target='new'>Flesch Reading Ease</a>"},{name:"resultText",position:"%3$s",scoreObj:"resultText"},{name:"note",position:"%4$s",scoreObj:"note"}]},{scoreName:"metaDescriptionLength",metaMinLength:120,metaMaxLength:156,scoreArray:[{max:0,score:1,text:a.dgettext("js-text-analysis","No meta description has been specified, search engines will display copy from the page instead.")},{max:120,score:6,text:a.dgettext("js-text-analysis","The meta description is under %1$d characters, however up to %2$d characters are available.")},{min:156,score:6,text:a.dgettext("js-text-analysis","The specified meta description is over %2$d characters, reducing it will ensure the entire description is visible")},{min:120,max:156,score:9,text:a.dgettext("js-text-analysis","In the specified meta description, consider: How does it compare to the competition? Could it be made more appealing?")}],replaceArray:[{name:"minCharacters",position:"%1$d",value:120},{name:"maxCharacters",position:"%2$d",value:156}]},{scoreName:"metaDescriptionKeyword",scoreArray:[{min:1,score:9,text:a.dgettext("js-text-analysis","The meta description contains the focus keyword.")},{max:0,score:3,text:a.dgettext("js-text-analysis","A meta description has been specified, but it does not contain the focus keyword.")}]},{scoreName:"firstParagraph",scoreArray:[{max:0,score:3,text:a.dgettext("js-text-analysis","The focus keyword doesn't appear in the first paragraph of the copy, make sure the topic is clear immediately.")},{min:1,score:9,text:a.dgettext("js-text-analysis","The focus keyword appears in the first paragraph of the copy.")}]},{scoreName:"stopwordKeywordCount",scoreArray:[{matcher:"count",min:1,score:5,text:a.dgettext("js-text-analysis","The focus keyword for this page contains one or more %1$s, consider removing them. Found '%2$s'.")},{matcher:"count",max:0,score:0,text:""}],replaceArray:[{name:"scoreUrl",position:"%1$s",value:"<a href='https://en.wikipedia.org/wiki/Stop_words' target='new'>stop words</a>"},{name:"stopwords",position:"%2$s",sourceObj:".result.matches"}]},{scoreName:"subHeadings",scoreArray:[{matcher:"count",max:0,score:7,text:a.dgettext("js-text-analysis","No subheading tags (like an H2) appear in the copy.")},{matcher:"matches",max:0,score:3,text:a.dgettext("js-text-analysis","You have not used your focus keyword in any subheading (such as an H2) in your copy.")},{matcher:"matches",min:1,score:9,text:a.dgettext("js-text-analysis","The focus keyword appears in %2$d (out of %1$d) subheadings in the copy. While not a major ranking factor, this is beneficial.")}],replaceArray:[{name:"count",position:"%1$d",sourceObj:".result.count"},{name:"matches",position:"%2$d",sourceObj:".result.matches"}]},{scoreName:"pageTitleLength",scoreArray:[{max:0,score:1,text:a.dgettext("js-text-analysis","Please create a page title.")},{max:40,score:6,text:a.dgettext("js-text-analysis","The page title contains %3$d characters, which is less than the recommended minimum of %1$d characters. Use the space to add keyword variations or create compelling call-to-action copy.")},{min:70,score:6,text:a.dgettext("js-text-analysis","The page title contains %3$d characters, which is more than the viewable limit of %2$d characters; some words will not be visible to users in your listing.")},{min:40,max:70,score:9,text:a.dgettext("js-text-analysis","The page title is more than %1$d characters and less than the recommended %2$d character limit.")}],replaceArray:[{name:"minLength",position:"%1$d",value:40},{name:"maxLength",position:"%2$d",value:70},{name:"length",position:"%3$d",source:"matcher"}]},{scoreName:"pageTitleKeyword",scoreTitleKeywordLimit:0,scoreArray:[{matcher:"matches",max:0,score:2,text:a.dgettext("js-text-analysis","The focus keyword '%1$s' does not appear in the page title.")},{matcher:"position",max:1,score:9,text:a.dgettext("js-text-analysis","The page title contains the focus keyword, at the beginning which is considered to improve rankings.")},{matcher:"position",min:1,score:6,text:a.dgettext("js-text-analysis","The page title contains the focus keyword, but it does not appear at the beginning; try and move it to the beginning.")}],replaceArray:[{name:"keyword",position:"%1$s",sourceObj:".refObj.config.keyword"}]},{scoreName:"urlKeyword",scoreArray:[{min:1,score:9,text:a.dgettext("js-text-analysis","The focus keyword appears in the URL for this page.")},{max:0,score:6,text:a.dgettext("js-text-analysis","The focus keyword does not appear in the URL for this page. If you decide to rename the URL be sure to check the old URL 301 redirects to the new one!")}]},{scoreName:"urlLength",scoreArray:[{type:"urlTooLong",score:5,text:a.dgettext("js-text-analysis","The slug for this page is a bit long, consider shortening it.")}]},{scoreName:"urlStopwords",scoreArray:[{min:1,score:5,text:a.dgettext("js-text-analysis","The slug for this page contains one or more <a href='http://en.wikipedia.org/wiki/Stop_words' target='new'>stop words</a>, consider removing them.")}]},{scoreName:"imageCount",scoreArray:[{matcher:"total",max:0,score:3,text:a.dgettext("js-text-analysis","No images appear in this page, consider adding some as appropriate.")},{matcher:"noAlt",min:1,score:5,text:a.dgettext("js-text-analysis","The images on this page are missing alt tags.")},{matcher:"alt",min:1,score:5,text:a.dgettext("js-text-analysis","The images on this page do not have alt tags containing your focus keyword.")},{matcher:"altKeyword",min:1,score:9,text:a.dgettext("js-text-analysis","The images on this page contain alt tags with the focus keyword.")}]},{scoreName:"keywordDoubles",scoreArray:[{matcher:"count",max:0,score:9,text:a.dgettext("js-text-analysis","You've never used this focus keyword before, very good.")},{matcher:"count",max:1,score:6,text:a.dgettext("js-text-analysis","You've used this focus keyword %1$sonce before%2$s, be sure to make very clear which URL on your site is the most important for this keyword.")},{matcher:"count",min:1,score:1,text:a.dgettext("js-text-analysis","You've used this focus keyword %3$s%4$d times before%2$s, it's probably a good idea to read %6$sthis post on cornerstone content%5$s and improve your keyword strategy.")}],replaceArray:[{name:"singleUrl",position:"%1$s",sourceObj:".refObj.config.postUrl"},{name:"endTag",position:"%2$s",value:"</a>"},{name:"multiUrl",position:"%3$s",sourceObj:".refObj.config.searchUrl"},{name:"occurrences",position:"%4$d",sourceObj:".result.count"},{name:"endTag",position:"%5$s",value:"</a>"},{name:"cornerstone",position:"%6$s",value:"<a href='https://yoast.com/cornerstone-content-rank/' target='new'>"},{name:"id",position:"{id}",sourceObj:".result.id"},{name:"keyword",position:"{keyword}",sourceObj:".refObj.config.keyword"}]}]};